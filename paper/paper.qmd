---
title: "Analyzing Patterns of Hate Crimes"
subtitle: "WHAT DID YOU FIND?"
author: 
  - Sakura Hu
thanks: "https://open.toronto.ca/dataset/hate-crimes-open-data/"
date: "2024-09-23"
date-format: long
abstract: "This paper explores the issue of hate crimes in Toronto and their underlying causes, highlighting the urgent need for societal awareness and intervention. Utilizing a dataset of hate crime incidents, we employed statistical methods to analyze the counts attributed to various bias categories. Our findings reveal that the majority of hate crimes are directed toward Jewish, female, and Black individuals, with a concerning trend of increasing occurrences over the years. These results underscore the importance of understanding hate crimes to inform policies and initiatives aimed at fostering inclusivity and reducing discrimination in our communities."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(ggplot2)
library(dplyr)
library(knitr)
```


# Introduction

Hate crimes are criminal offenses directed at individuals or property, driven by bias, prejudice, or hatred based on factors such as race, ethnicity, language, religion, gender, sexual orientation, disability, or other similar characteristics. These crimes are a serious societal issue, as they target specific groups and reinforce divisions. In recent years, cities like Toronto have witnessed a rise in reported hate crimes, prompting a need to analyze the underlying causes and trends. Understanding the motivations behind hate crimes and identifying the most affected communities is critical for developing targeted prevention strategies and fostering a more inclusive society.

This paper utilizes data on hate crimes reported in Toronto to explore the causes behind these offenses. Specifically, it investigates the most frequent motivations for hate crimes, including race, ethnicity, religion, sexual orientation, and gender identity. By analyzing which demographic groups are most often victimized, this paper aims to shed light on patterns of bias in hate crimes and how these trends have evolved over time. The analysis reveals that Black, Jewish, and female individuals are disproportionately targeted, and the occurrence of hate crimes has been increasing each year.

The importance of this study lies in its ability to inform policymakers, law enforcement, and the public about the prevalence and nature of hate crimes in Toronto. Addressing the root causes of these offenses is essential for reducing their occurrence and protecting vulnerable communities.

The remainder of this paper is structured as follows: Section 2 discusses the data sources and variables, as well as the process of cleaning and preparing the data for analysis. Section 3 presents the results, including visualizations of key trends, while Section 4 provides a discussion of the findings. Finally, Section 5 includes appendices with additional details and supporting material.

# Data {#sec-data}

```{r}
#| echo: false
#| warning: false
#| message: false

cleaned_data <- read_csv("../data/analysis_data/analysis_data.csv")
# Summarize the counts of occurrences for different bias categories by year
bias_summary_by_year <- cleaned_data %>%
  group_by(OCCURRENCE_YEAR) %>%
  summarize(
    race_bias_count = sum(RACE_BIAS != "None"),
    ethnicity_bias_count = sum(ETHNICITY_BIAS != "None"),
    religion_bias_count = sum(RELIGION_BIAS != "None"),
    gender_bias_count = sum(GENDER_BIAS != "None"),
    sexual_orientation_bias_count = sum(SEXUAL_ORIENTATION_BIAS != "None"),
    disability_bias_count = sum(MENTAL_OR_PHYSICAL_DISABILITY != "None")
  )

# Display the summary
bias_summary_by_year %>% 
  kable(
    col.names = c("Year", "Race", "Ethnicity", "Religion", "Gender", "Sexual_Orientation", "Disability"),
    # digits = 1
  )
```

```{r}
#| label: fig-occurence-by-bias
#| fig-cap: Count of Occurrences Based on Different Bias Types
#| echo: false
# Reshape the data to long format and count occurrences for each bias
bias_counts <- cleaned_data %>%
  select(RACE_BIAS, ETHNICITY_BIAS, SEXUAL_ORIENTATION_BIAS, GENDER_BIAS, LANGUAGE_BIAS, RELIGION_BIAS, MENTAL_OR_PHYSICAL_DISABILITY) %>%
  pivot_longer(cols = everything(), names_to = "Bias_Type", values_to = "Bias_Value") %>%
  mutate(Value = ifelse(Bias_Value == "None", 0, 1)) %>%
  group_by(Bias_Type) %>%
  summarise(Count = sum(Value))

# Create a bar chart
ggplot(bias_counts, aes(x = reorder(Bias_Type, Count), y = Count, fill = Bias_Type)) +
  geom_bar(stat = "identity") +
  theme_minimal() +
  labs(x = "Bias Type", y = "Count of Occurrences") +
  scale_fill_brewer(palette = "Set3") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```
```{r}
#| label: fig-yearly-occurrence
#| fig-cap: Occurrences of Hate Crimes by Year
#| echo: false
# Count occurrences by OCCURRENCE_YEAR without filtering
year_counts <- cleaned_data %>%
  count(OCCURRENCE_YEAR)

# Create the bar chart
ggplot(year_counts, aes(x = as.factor(OCCURRENCE_YEAR), y = n)) +
  geom_bar(stat = "identity", fill = "steelblue", alpha = 0.8) +
  theme_minimal() +
  labs(x = "Year of Occurrence", y = "Number of Occurrences") +
  scale_x_discrete(drop = FALSE) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

```{r}
#| label: fig-religion-bias
#| fig-cap: Occurrences of Hate Crimes by Religion Bias
#| echo: false
# Filter out "None" from the RELIGION_BIAS column and count occurrences
religion_bias_counts <- cleaned_data %>%
  filter(RELIGION_BIAS != "None") %>%
  count(RELIGION_BIAS)

# Create the bar chart
ggplot(religion_bias_counts, aes(x = reorder(RELIGION_BIAS, n), y = n)) +
  geom_bar(stat = "identity", fill = "steelblue", alpha = 0.8) +
  theme_minimal() +
  labs(x = "Religion Bias Categories", y = "Number of Occurrences") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

```{r}
#| label: fig-Jewish-bias
#| fig-cap: Occurrences of Hate Crimes by Year and Race Bias
#| echo: false
# Filter out "None" and create a new column for Race Bias categorization
race_counts <- cleaned_data %>%
  filter(RELIGION_BIAS != "None") %>%
  mutate(RELIGION_CATEGORY = ifelse(RELIGION_BIAS == "Jewish", "Jewish", "Other"))

# Count occurrences by OCCURRENCE_YEAR and RACE_CATEGORY
year_religion_counts <- race_counts %>%
  count(OCCURRENCE_YEAR, RELIGION_CATEGORY)

# Calculate percentage for each category within each year
year_religion_counts <- year_religion_counts %>%
  group_by(OCCURRENCE_YEAR) %>%
  mutate(percentage = n / sum(n) * 100)

# Create the stacked bar chart
ggplot(year_religion_counts, aes(x = as.factor(OCCURRENCE_YEAR), y = percentage, fill = RELIGION_CATEGORY)) +
  geom_bar(stat = "identity", position = "stack", alpha = 0.8) +
  scale_fill_manual(values = c("Jewish" = "steelblue", "Other" = "orange")) +
  theme_minimal() +
  labs(x = "Year of Occurrence", y = "Number of Occurrences") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  geom_text(aes(label = scales::percent(percentage / 100)), 
            position = position_stack(vjust = 0.5), 
            color = "white", size = 4)  # Adjust size and color as needed
```

```{r}
#| echo: false
# Filter out "None" from the RACE_BIAS column and count occurrences
race_bias_counts <- cleaned_data %>%
  filter(RACE_BIAS != "None") %>%
  count(RACE_BIAS)

# Create the bar chart
ggplot(race_bias_counts, aes(x = reorder(RACE_BIAS, n), y = n)) +
  geom_bar(stat = "identity", fill = "steelblue", alpha = 0.8) +
  theme_minimal() +
  labs(x = "Race Bias Categories", y = "Number of Occurrences", 
       title = "Occurrences of Hate Crimes by Race Bias") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

```{r}
#| echo: false
# Filter out "None" and create a new column for Race Bias categorization
race_counts <- cleaned_data %>%
  filter(RACE_BIAS != "None") %>%
  mutate(RACE_CATEGORY = ifelse(RACE_BIAS == "Black", "Black", "Other"))

# Count occurrences by OCCURRENCE_YEAR and RACE_CATEGORY
year_race_counts <- race_counts %>%
  count(OCCURRENCE_YEAR, RACE_CATEGORY)

# Calculate percentage for each category within each year
year_race_counts <- year_race_counts %>%
  group_by(OCCURRENCE_YEAR) %>%
  mutate(percentage = n / sum(n) * 100)

# Create the stacked bar chart with percentage labels
ggplot(year_race_counts, aes(x = as.factor(OCCURRENCE_YEAR), y = percentage, fill = RACE_CATEGORY)) +
  geom_bar(stat = "identity", position = "stack", alpha = 0.8) +
  scale_fill_manual(values = c("Black" = "steelblue", "Other" = "orange")) +
  theme_minimal() +
  labs(x = "Year of Occurrence", y = "Percentage of Occurrences", 
       title = "Percentage of Hate Crimes by Year and Race Bias") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  geom_text(aes(label = scales::percent(percentage / 100)), 
            position = position_stack(vjust = 0.5), 
            color = "white", size = 4)  # Adjust size and color as needed
```

Talk more about it.

And also planes (@fig-planes). (You can change the height and width, but don't worry about doing that until you have finished every other aspect of the paper - Quarto will try to make it look nice and the defaults usually work well once you have enough text.)


Talk way more about it. 

# Results

Our results are summarized in @tbl-modelresults.






# Discussion

## First discussion point {#sec-first-point}

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

\appendix

# Appendix {-}






\newpage


# References


